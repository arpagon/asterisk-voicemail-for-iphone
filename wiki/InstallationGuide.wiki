#summary Installation Guide.
#labels Phase-Deploy,Featured



===Asterisk Voicemail for iPhone===
Copyright 2008 Chris Carey (http://chriscarey.com). 
This program is distributed under the terms of the GNU General Public License

== Introduction ==

*This software is not a native iPhone app.* It is a web application which is installed on your Asterisk server. You access the software by using your iPhone web browser and hitting a URL on your Asterisk server. 

== Apache Setup ==

  * Install Apache if it's not already installed.

You need to set up a /messages/ Alias for listening to messages.

In your apache conf file add:

  * Alias /messages /var/spool/asterisk/voicemail/default

We can decrease the security issue by disallowing directory browsing:

<Location /messages>
  Options -Indexes
</Location>

Change apache default user and group to asterisk. For the software to be able to delete and move messages, it must have read/write access to all the asterisk files. This accomplishes that. (Maybe we can get away with just changing the group on a later version?)

  * User asterisk
  * Group asterisk

For me, /var/lib/php5 needed to be chowned to asterisk for session_start() to work. There may be other folders that need to be chowned to asterisk due to the web server running as asterisk. Check your apache error log for messages.

== Dependency Install ==

  * Install Smarty on your web server. Download Smarty at: http://smarty.org or Debian based systems: *apt-get install smarty*
  * Install Lame on your web server (for mp3 creation). Debian based systems: *apt-get install lame*
  * Install php-curl. Debian based systems: *apt-get install php5-curl*
  * Install iUI in a subfolder named 'iui' inside the application folder. I have the voicemail for iphone app at /iphone/ so iUI is installed at /iphone/iui/ . iUI can be found here http://code.google.com/p/iui/ . I have a pre-release version of iUI that has MUCH smoother scrolling. Contact me if you need a copy, or just wait for the project to update.

== Install Smarty Templates in smarty templates folder ==

  * templates/iphone/login.tpl
  * templates/iphone/main.tpl


==Install files in the application folder==

  * iphone/delete.php
  * iphone/i_db.php
  * iphone/i_functions.php
  * iphone/i_settings.php
  * iphone/index.php
  * iphone/listen.php
  * iphone/logout.php
  * iphone/main.js
  * iphone/main.php
  * iphone/readme.txt
  * iphone/install.txt

==Customize i_settings.php==

  * copy i_settings.php.dist to i_settings.php

You must edit this file with correct paths and options

== All Done!! ==